@model Booker.WebUI.Models.RMMHomePageModel

@{
    ViewBag.Title = "Home";
    ViewBag.MenuSection = "home-menu";
}

<div class="main-content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h2>Welcome to the @Booker.Common.CompanyStrings.ShortName Portal</h2>

                <table id="summary" class="clicktable">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th class="right-text">Count</th>
                        </tr>
                    </thead>
                    <tbody>
                        @CreateSupplierActionRow("Resources with Upcoming Unavailability", "ResourceAvailability", Model.NumberOfUnavailableResources)
                        @CreateSupplierActionRow("Jobs Awaiting Reallocation", "JobsAwaitingReallocation", Model.NumberOfJobsAwaitingReallocation)
                        @CreateSupplierActionRow("Invoices Awaiting Approval", "InvoicesAwaitingApproval", Model.NumberOfInvoicesAwaitingApproval)
                    </tbody>
                    <tfoot>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>

@helper CreateSupplierActionRow(string linkText, string actionName, int num)
{
    <tr>
        <td>@Html.ActionLink(linkText, actionName, "ResourceAvailability")</td>
        <td class="right-text">@string.Format("{0:0}", num)</td>
    </tr>
}

@section scripts {
    @Scripts.Render("~/bundles/jquerydatatables")
}
